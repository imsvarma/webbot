<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>My AI Agent â€“ n8n Chat (CDN Embed)</title>

  <!-- n8n Chat styles -->
  <link href="https://cdn.jsdelivr.net/npm/@n8n/chat/dist/style.css" rel="stylesheet" />

  <style>
    body { margin: 0; background: linear-gradient(135deg, #0f172a 0%, #1f2937 100%); min-height: 100svh; }
    .wrap { width: min(100% - 2rem, 900px); margin: 32px auto; color: #e5e7eb; font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Helvetica Neue, Arial; }
    h1 { margin: 0 0 8px; font-weight: 800; }
    p { margin: 0 0 18px; color: #9ca3af; }
    /* Container where the chat will render */
    #n8n-chat { height: 560px; width: 100%; background: rgba(255,255,255,0.06); border: 1px solid rgba(255,255,255,0.08); border-radius: 16px; }
    footer { position: fixed; bottom: 10px; right: 14px; opacity: .75; font-size: 12px; color: #cbd5e1; }
  </style>
</head>
<body>
  <main class="wrap">
    <h1>AI Agent Chat (n8n)</h1>
    <p>Embedded via <code>createChat</code> using your production webhook URL.</p>

    <!-- Target container for the chat (the script will mount here) -->
    <div id="n8n-chat"></div>
  </main>

  <footer>Powered by n8n</footer>

  <!-- n8n Chat CDN embed (no build step) -->
  <script type="module">
    import { createChat } from 'https://cdn.jsdelivr.net/npm/@n8n/chat/dist/chat.bundle.es.js';

    // IMPORTANT: This must be your production webhook URL (POST). CORS must allow this site's origin.
    const WEBHOOK = 'https://manikantavarma.app.n8n.cloud/webhook/e6e4609b-da9f-46cf-9ca4-6bed3face4d5/chat';

    // Minimal working config. Adjust as needed.
    createChat({
      webhookUrl: WEBHOOK,
      target: '#n8n-chat',      // Mount into the div above
      mode: 'fullscreen',       // Use full size of the target container
      loadPreviousSession: true,
      showWelcomeScreen: false,
      initialMessages: [ 'Hi there! ðŸ‘‹', 'Ask me anything.' ],
      // webhookConfig: { method: 'POST', headers: {} },
      // enableStreaming: false,
    });

    // Tiny debug helper
    console.log('[n8n-chat] origin =', location.origin);
    console.log('[n8n-chat] webhook =', WEBHOOK);
  </script>
</body>
</html>
